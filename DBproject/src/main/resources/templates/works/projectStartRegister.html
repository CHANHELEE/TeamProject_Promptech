<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:c="http://www.w3.org/1999/XSL/Transform">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<head>
    <meta charset="UTF-8">
    <title>새로운 Works_for 등록</title>
    <style>
    </style>
</head>
<body>
    <h2 class="text-center">
        새로운 프로젝트 투입 등록하기
    </h2><br>
    <form action="/input/projectForm" th:object="${inputProject}" method="post" >
        <div class = "form-group">
            <label>직원 아이디</label>
            <input class="form-control mr-sm-2" type="search" aria-label="Search" th:field="*{employee_id}" placeholder="직원 아이디를 입력하세요"  th:class="${#fields.hasErrors('employee_id')}? 'form-control fieldError' : 'form-control'">
            <p th:if="${#fields.hasErrors('employee_id')}"th:errors="*{employee_id}" class="mb-3 alert alert-danger">Incorrect date</p>
        </div><br>

        <div class = "form-group">
            <label>프로젝트 아이디</label>
            <input class="form-control mr-sm-2" type="search" aria-label="Search" th:field="*{project_id}" placeholder="프로젝트 아이디를 입력하세요" th:class="${#fields.hasErrors('project_id')}? 'form-control fieldError' : 'form-control'">
            <p th:if="${#fields.hasErrors('project_id')}"th:errors="*{project_id}" class="mb-3 alert alert-danger">Incorrect date</p>
        </div><br>

        <div class = "form-group">
            <label>직책</label><br>
            <select class="form-select" name="positions" id="position" th:field = "*{e_job}" th:value = "*{e_job}">
                <option value = "NULL">직책을 선택하세요.</option>
                <option th:value = "PM">PM</option>
                <option th:value = "PL">PL</option>
                <option th:value = "Analyst">Analyst</option>
                <option th:value = "Designer">Designer</option>
                <option th:value = "Programmer">Programmer</option>
                <option th:value = "Tester">Tester</option>
                <!--                <p th:if="${#fields.hasErrors('e_job')}"th:errors="*{e_job}" class="mb-3 alert alert-danger">Incorrect date</p>-->
            </select>
        </div><br>

        <div class = "form-group">
            <label>프로젝트 참여 날짜</label>
            <input class="form-control mr-sm-2" type="date" name="userBirthday" aria-label="Search" th:field="*{e_start_d}" placeholder="(yyyy-MM-dd) 프로젝트 참여 날짜를 입력하세요" th:class="${#fields.hasErrors('e_start_d')}? 'form-control fieldError' : 'form-control'">
            <p th:if="${#fields.hasErrors('e_start_d')}"th:errors="*{e_start_d}" class="mb-3 alert alert-danger">Incorrect date</p>
        </div><br>

        <div class = "form-group">
            <label>프로젝트 이탈 날짜</label>
            <input input class="form-control mr-sm-2" type="date" name="userBirthday" aria-label="Search" th:field="*{e_end_d}" placeholder="(yyyy-MM-dd) 프로젝트 이탈 날짜를 입력하세요" >
        </div><br>

        <button class="btn btn-primary" style="float: right;" type="submit">프로젝트 투입 등록</button><br>
    </form><br>

    <div class="row mb-3">
        <div class="col-12">
            <div th:if="${error}" class="mb-3 alert alert-danger">
                <stong>해당 직원은 이미 3개의 프로젝트에 참여중입니다. </stong>

            </div>
            <div th:if="${error2}" class="mb-3 alert alert-danger">
                <stong>해당 프로젝트 또는 해당 프로젝트 인원이 존재하지 않습니다. </stong>
            </div>
            <div th:if="${error3}" class="mb-3 alert alert-danger">
                <stong>프로젝트 종료일자 보다 직원의 프로젝트 참여 일자가 큽니다. </stong>
            </div>
            <div th:if="${error4}" class="mb-3 alert alert-danger">
                <stong> 직무를 선택해 주세요. </stong>
            </div>
        </div>
    </div>
</body>
</html>